# LibreChat Configuration - Railway Project
# Combined Memory - LibreChat ðŸª¶ Production Configuration
# Version: 1.2.9 - Railway Project MCPs

version: 1.2.9

# Cache settings
cache: true

# Memory configuration for conversation memory
memory:
  disabled: false
  validKeys:
    - "user_preferences"
    - "conversation_context"
    - "learned_facts"
    - "personal_information"
    - "project_details"
    - "workflow_preferences"
  tokenLimit: 4000
  personalize: true
  messageWindowSize: 10
  agent:
    provider: "openAI"
    model: "gpt-4o-mini"
    instructions: |
      Store memory using only the specified validKeys. Focus on:
      - user_preferences: communication style, topics of interest, workflow preferences
      - conversation_context: ongoing projects, important facts mentioned
      - learned_facts: objective information about the user and their work
      - personal_information: relevant personal details that aid in assistance
      - project_details: active projects, technical preferences, tools used
      - workflow_preferences: preferred development practices, coding styles
      Be selective and only store information that will be genuinely useful for future conversations.

# File storage configuration
fileConfig:
  useLocalFiles: true
  allowedTypes:
    - image/jpeg
    - image/png
    - image/gif
    - image/webp
    - image/svg+xml
    - application/pdf
    - text/plain
    - text/csv
    - text/markdown
    - application/json
    - application/xml
    - text/xml
    - application/zip
    - application/x-zip-compressed
    - application/vnd.openxmlformats-officedocument.wordprocessingml.document
    - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
    - application/vnd.openxmlformats-officedocument.presentationml.presentation
  maxSize: 25
  maxFiles: 10

# AI Endpoints
endpoints:
  openAI:
    reasoning_effort: "medium"
    reasoning_summary: "auto"
    verbosity: 1
    stream: true
  custom:
    # Mistral AI API
    - name: "Mistral"
      apiKey: "${MISTRAL_API_KEY}"
      baseURL: "https://api.mistral.ai/v1"
      models:
        default: [
          "mistral-tiny",
          "mistral-small",
          "mistral-medium",
          "mistral-large-latest"
        ]
        fetch: true
      titleConvo: true
      titleModel: "mistral-tiny"
      modelDisplayLabel: "Mistral"
      dropParams: ["stop", "user", "frequency_penalty", "presence_penalty"]
      stream: true

# Model Context Protocol (MCP) Servers
mcpServers:
  # Development & Project Management (Smithery-hosted)
  railway:
    type: http
    url: https://server.smithery.ai/@jason-tan-swe/railway-mcp/mcp?api_key=c0696122-7da9-4c99-84e2-1798ce74a954&profile=given-narwhal-PvFXc4
    timeout: 60000
    iconPath: https://railway.app/favicon.ico

  # Web Development & Design (Local API Token)
  webflow:
    type: stdio
    command: npx
    args:
      - '-y'
      - 'webflow-mcp-server'
    env:
      WEBFLOW_TOKEN: '${WEBFLOW_TOKEN}'
    timeout: 60000
    iconPath: https://webflow.com/favicon.ico

  # Workflow Automation
  n8n-railway:
    type: stdio
    command: npx
    args:
      - '-y'
      - 'mcp-remote'
      - 'https://czlonkowskin8n-mcp-railwaylatest-production-23d6.up.railway.app/mcp'
      - '--header'
      - 'Authorization: Bearer cwmWLcSwK2jIuwCAgtYeDDwztEkc1afLomiFszDd8Fc='
    timeout: 60000
    iconPath: https://n8n.io/favicon.ico

  # Memory & AI Enhancement
  quinns-memory:
    type: http
    url: https://server.smithery.ai/@quinnbmay/quinns-memory-mcp-server/mcp?api_key=${QUINNS_MEMORY_API_KEY}&profile=${QUINNS_MEMORY_PROFILE}
    timeout: 60000
    iconPath: https://res.cloudinary.com/dfctldgya/image/upload/v1757455636/uewnvovkzpr46dyfaia3.png

  # Document Processing & AI Analysis
  jina-mcp-server:
    type: stdio
    command: npx
    args:
      - '-y'
      - 'mcp-remote'
      - 'https://mcp.jina.ai/sse'
      - '--header'
      - 'Authorization: Bearer ${JINA_API_KEY}'
    timeout: 60000
    iconPath: https://jina.ai/favicon.ico

  # Notion - Database & Page Management (Smithery-hosted)
  notion-mcp:
    type: http
    url: https://server.smithery.ai/@smithery/notion/mcp?api_key=c0696122-7da9-4c99-84e2-1798ce74a954&profile=given-narwhal-PvFXc4
    timeout: 60000
    iconPath: https://notion.so/images/favicon.ico

  # Upstash Context7 - Documentation & Code Examples (Smithery-hosted)
  upstash-context7:
    type: http
    url: https://server.smithery.ai/@upstash/context7-mcp/mcp?api_key=c0696122-7da9-4c99-84e2-1798ce74a954&profile=given-narwhal-PvFXc4
    timeout: 60000
    iconPath: https://upstash.com/favicon.ico

  # GitHub - Repository Management & Copilot Integration (Smithery-hosted)
  github:
    type: http
    url: https://server.smithery.ai/@smithery-ai/github/mcp?api_key=c0696122-7da9-4c99-84e2-1798ce74a954&profile=given-narwhal-PvFXc4
    timeout: 60000
    iconPath: https://github.com/favicon.ico